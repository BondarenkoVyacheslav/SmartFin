Мне нужно реализовать app marketdata в моем Django backend,
ориентировочно вот по такой схеме: У меня будет реализован класс MarketDataAPI,
через его интерфейс можно будет другим аппам обращаться к нам.
К тому же вся бизнес логика будет реальизована в MarketDataAPI,
он будет вызывать или инкапсулировать классы отвечающие за Crypto, Currency, StockMarketUSA, StockMarketRussia
и возможно в будущем еще Product и еще что-нибудь. Далее все эти классы будут вызывать провайдеры,
например Crypto класс BybitProvider и OKX И другие.
Все провайдеры будут унаследоваться от общего родиетельского класса Provider, и все они будут писать данные в Redis,
где уже данные будут кешироваться или доставаться. Например котирвки крипты будут обновляться каждые 2 минут например,
ну или по запросу.
 Доставать из кеша могу классы отвечающие за определенную сферу например StockMarketUSA достает из кеша данные о S&P500
 или просит проваедоров обновить данные в Redis, ну это уже локольно будем смотреть как все это реализовавывать.
 Проанализируй мою структуру.


фасад MarketDataAPI → доменные сервисы (Crypto/FX/StockRU/StockUS/… ) →
провайдеры → Redis, где Redis — первый слой хранения для быстрых чтений.
Провайдеры должны унаследоваться от родительского класса Provider, в котором будут инкапсулироваться конфигурация Redis.



В мой apps marketdata, моего Django backend-а, будут обращаться из других apps-ов. Я планирую всю логиков запросов
проводить через MarketDataAPI, как ты думаешь какие вообще возможны запросы со стороны фронта, и других app-ов в marketdata.
Учитывая что нам нужно будет доставать все данные о состояниях рынков, ценных бумаг, крипты, фиата, и прочего прочего. Ключевые ставки стран.
Спроектируй мне пожалуйста, все возможные методы для MarketDataAPI (пока просто внутри to-do пропиши, функционалом этих методов мы займемся позже).

Спроектируй пожалуйста еще GraphQL схему для все возможных запросов фронта.


MarketDataAPI
Kласс MarketDataAPI будет содержать в себе следующие доменные классы по каждому типу активов: Crypto, Currency,
Products(золото, нефть и проч.), StockMarketUSA, StockMarketRussia. Т.е. MarketDataAPI своего рода маршрутизатор, который будет
переопределять запросы, например get_fx_rates(), в нужный доменный класс - Currency. А уже внутри доменных классов, будет реализована логика записи в кеш,
логика ответов на эти запросы, и проч проч. Т.е. MarketDataAPI не будет иметь прямого доступа к кешу, А будет иметь вунтри себя, через self. все доменные классы.


Provider-ы должны будут Общаться с внешними сервисами для постоянного мониторинга состояния рынков, валют и прочего. Они будут
наследоваться от класса Provider который будет инкапсулировать класс RedisCacheService. Их функционал просто по команде от доменов
записывать/обновлять данные в кеше. Домены же в свою очередь должны будут унаследоваться от базового класса Domain, который так же будет
инкапсулировать RedisCacheService. Домены должны также реализовывать логику переодического обновления данных в кеше, например раз в 2 минуты для крипты,
т.е. отдавать сигнал провайдерам обратиться в определенный сервис и получить данные и обновить их. Также домены будут иметь возможность самостоятельно доставать
из кеша необходимые данные.
Помимо того, мне нужно реализовать schema.py, чтобы мой фронт также мог в любой момент получить необходимые данные.
Как это реализовать? Через MarketDataAPI? Т.е. фронт делает запросы, а schema обращается за ответом к классу MarketDataAPI? Или сразу непосредственно к доменам?


Можешь посоветовать мне, какие провайдеры и внешние API нам стоит использовать чтобы мы могли анализировать рынок криптовалют.
Чтобы ты еще посоветовал для стабильной работы нашего бека? Сообщи в порядке приоритета,
от самых стабильных и информативных API, до тех что могут быть планом б в случае блокировок и падений API.